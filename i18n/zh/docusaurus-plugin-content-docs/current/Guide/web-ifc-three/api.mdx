---
title: API
sidebar_position: 3
---

import {IfcCard} from "../../../../../../src/components/Card/InfoCard";
import {IfcAlert} from "../../../../../../src/components/Alert/Alert";

##  ä½ å¯ä»¥ç”¨web-ifc-threeåšçš„å¾ˆæ£’çš„äº‹æƒ…åˆ—è¡¨

  ğŸ“ƒ
æ‰€æœ‰çš„APIéƒ½æœ‰è®°å½•ï¼Œæ‰€ä»¥å½“ä½ ä½¿ç”¨æœ¬æ–‡æ¡£ä¸­çœ‹åˆ°çš„ä»»ä½•å¯¹è±¡æˆ–æ–¹æ³•æ—¶ï¼Œä½ åº”è¯¥åœ¨Intellisenseä¸­çœ‹åˆ°å¸®åŠ©ï¼Œæ— è®ºä½ ä½¿ç”¨çš„æ˜¯å“ªç§IDEã€‚[çœ‹çœ‹å§ï¼](https://github.com/IFCjs/web-ifc-three/blob/main/web-ifc-three/src/IFC/components/IFCManager.ts)ã€‚

  ğŸ‘©â€ğŸ«
ç„¶è€Œï¼Œæˆ‘ä»¬æ„è¯†åˆ°ï¼Œé˜…è¯»intellisenseæˆ–æ³¨é‡Šå¹¶ä¸æ˜¯æœ€èˆ’æœçš„äº‹æƒ…ï¼Œæ‰€ä»¥åœ¨è¿™ä¸€é¡µï¼Œæˆ‘ä»¬å°†å¯¹APIèƒ½åšä»€ä¹ˆåšä¸€ä¸ªæ¦‚è¿°ã€‚ä¸€åˆ‡éƒ½å°†åœ¨ä»¥åçš„å…·ä½“æ•™ç¨‹ä¸­å¾—åˆ°æ›´è¯¦ç»†çš„ä»‹ç»ã€‚

##  IfcLoader

  ğŸ’
è¿™æ˜¯æˆ‘ä»¬å°†ä»åº“ä¸­å¯¼å…¥çš„å”¯ä¸€å¯¹è±¡ã€‚å®ƒåŒ…å«äº†ä½¿ç”¨IFCæ‰€éœ€çš„æ‰€æœ‰é€»è¾‘ã€‚ä½ å¯ä»¥ä½¿ç”¨å®ƒçš„`load()`å’Œ`loadAsync()`æ–¹æ³•ä»URLåŠ è½½IFCï¼Œ[å°±åƒå…¶ä»–Three.jsåŠ è½½å™¨ä¸€æ ·](https://threejs.org/docs/#api/en/loaders/Loader.load)ã€‚ä¾‹å¦‚ï¼Œè¦åŠ è½½ä¸€ä¸ªIFCï¼Œæˆ‘ä»¬å¯ä»¥åšä»¥ä¸‹å·¥ä½œã€‚

```js
import { IFCLoader } from "web-ifc-three/IFCLoader";

const ifcLoader = new IFCLoader();
ifcLoader.load(
    "models/Example_model.ifc",
    (ifcModel) => scene.add(ifcModel));
```

  ğŸ ğŸ ğŸ 
é€šè¿‡`web-ifc-three`ï¼Œä½ å¯ä»¥åœ¨åœºæ™¯ä¸­åŠ è½½å¤šä¸ªæ¨¡å‹ã€‚è®¸å¤šAPIæ“ä½œæ˜¯åœ¨ä¸€ä¸ªæŒ‡å®šçš„æ¨¡å‹ä¸Šæ‰§è¡Œçš„ã€‚ä¸ºäº†è¡¨è¾¾æˆ‘ä»¬æƒ³åœ¨å“ªä¸ªæ¨¡å‹ä¸Šæ“ä½œï¼Œæˆ‘ä»¬å¿…é¡»ç»™å‡ºå®ƒçš„`ModelID`ã€‚

  ğŸ”
ä½ å¯ä»¥é€šè¿‡ç”Ÿæˆçš„ç½‘æ ¼çš„å±æ€§`modelID`è·å¾—æ¨¡å‹çš„IDã€‚

```js
const modelID = ifcModel.modelID;
```

  âœŒ
  æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥è®¿é—®APIã€‚

- é€šè¿‡`IfcLoader`ç”¨`load`å’Œ`loadAsync`ç”Ÿæˆçš„`IfcModel`çš„å®ä¾‹ã€‚

- é€šè¿‡`IfcLoader.IfcManager`ã€‚

<IfcAlert>
<b>IfcModel</b>å®ä¾‹å’Œ<b>IfcLoader.IfcManager</b>éƒ½å¯ä»¥äº’æ¢ä½¿ç”¨ï¼Œä»¥è®¿é—®APIã€‚æœ‰ä¸€ä¸ªåŒºåˆ«ï¼šå½“ä½¿ç”¨<b>IfcModel</b>æ—¶ï¼ŒModelIDä¸å¿…ä½œä¸ºä¸€ä¸ªå‚æ•°ç»™å‡ºï¼ˆå®ƒæ˜¯éšå«çš„ï¼‰ã€‚
</IfcAlert>

##  ğŸ§° è®¾ç½®

###  setWasmPath

```js
  async IfcLoader.IfcManager.setWasmPath (
                        path: string
                        ): void;
```

  ğŸ§ 
æŒ‡å®š`web-ifc.wasm`å’Œ`web-ifc-mt.wasm`æ–‡ä»¶çš„ä½ç½®ã€‚è¿™äº›æ–‡ä»¶æ˜¯web-ifcæ–‡ä»¶ï¼Œä½¿ç”¨IFC.jsåˆ›å»ºä»»ä½•åº”ç”¨ç¨‹åºéƒ½éœ€è¦å®ƒä»¬ã€‚ä½ å¯ä»¥åœ¨`node_modules/web-ifc/`ä¸­æ‰¾åˆ°å®ƒä»¬ã€‚


<IfcCard icon={"ğŸš§"} title={"å°å¿ƒä½ ä½¿ç”¨çš„å·¥å…·!"} >
å¦‚æœä½ ä½¿ç”¨Reactã€Angularã€Vueæˆ–Svelteç­‰æ¡†æ¶æˆ–åº“ï¼Œé‚£ä¹ˆé¡¹ç›®çš„æ ¹è·¯å¾„æœ‰å¯èƒ½ä¸è¢«æœåŠ¡çš„åº”ç”¨ç¨‹åºçš„æ ¹è·¯å¾„ä¸ä¸€è‡´ã€‚ä½ å¿…é¡»åœ¨<a href="https://github.com/IFCjs/examples">æ¯ç§æƒ…å†µä¸‹</a>æ£€æŸ¥å¦‚ä½•ç®¡ç†é™æ€æœåŠ¡æ–‡ä»¶çš„è·¯å¾„ã€‚
</IfcCard>

#### å‡½æ•°çš„å‚æ•°ã€‚

- `path` æ–‡ä»¶`web-ifc.wasm`çš„è·¯å¾„ã€‚

#### ä¾‹å­ã€‚

å¦‚æœ`web-ifc.wasm`åœ¨dist/wasmDirä¸­ã€‚

```js
  await ifcLoader.setWasmPath("dist/wasmDir/");
```

###  setupThreeMeshBVH

```js
  IfcLoader.IfcManager.setupThreeMeshBVH (
                        computeBoundsTree: any,
                        disposeBoundsTree: any,
                        acceleratedRaycast: any
                        ): void;
```

  âš¡âš¡âš¡
è¿™ç§æ–¹æ³•å¯ä»¥ä½¿å¯¹è±¡çš„æ‹¾å–é€Ÿåº¦æ›´å¿«ï¼Œç‰¹åˆ«æ˜¯å¯¹äºå…·æœ‰é‡åº¦å‡ ä½•å½¢çŠ¶çš„éå¸¸å¤§çš„æ¨¡å‹ã€‚è¿™ä¸ªæ–¹æ³•å®é™…ä¸Šå…è®¸IFC.jsä½¿ç”¨Garrett Johnsonçš„æƒŠäººçš„[åº“](https://github.com/gkjohnson/three-mesh-bvh)ã€‚ä½ å¯ä»¥ç”¨`npm i three-mesh-bvh`æˆ–`yarn add three-mesh-bvh`æ¥å®‰è£…å®ƒã€‚

<IfcCard>
  â˜
ä½¿ç”¨è¿™ç§æ–¹æ³•ä¸æ˜¯å¼ºåˆ¶æ€§çš„ï¼Œä½†å¦‚æœä½ æƒ³åœ¨60å¸§çš„æƒ…å†µä¸‹èƒ½å¤Ÿé€‰æ‹©ä¸­å‹/å¤§å‹IFCæ¨¡å‹ä¸­çš„å¯¹è±¡ï¼Œè¿™æ˜¯å¿…è¦çš„ã€‚
</IfcCard>

#### å‡½æ•°çš„å‚æ•°ã€‚

- `computeBoundsTree` é¢„åˆ¶çš„BufferGeometryæ‰©å±•å‡½æ•°ï¼Œå®ƒå»ºç«‹äº†ä¸€ä¸ªæ–°çš„BVHï¼Œå°†å…¶åˆ†é…ç»™boundsTreeï¼Œå¹¶å°†æ–°çš„ç´¢å¼•ç¼“å†²åŒºåº”ç”¨åˆ°å‡ ä½•ä½“ä¸Šã€‚- [æ¥æº](https://github.com/gkjohnson/three-mesh-bvh#computeboundstree)

- `disposeBoundsTree` BufferGeometryæ‰©å±•å‡½æ•°ï¼Œç”¨äºå¤„ç½®BVHã€‚- [æ¥æº](https://github.com/gkjohnson/three-mesh-bvh#disposeboundstree)ã€‚

- `acceleratedRaycast` ä¸THREE.Mesh.raycastç›¸åŒçš„åŠ é€Ÿå°„çº¿ä¼ è¾“å‡½æ•°ã€‚å¦‚æœBVHå¯ç”¨çš„è¯ï¼Œå°±ä½¿ç”¨å®ƒæ¥è¿›è¡Œå…‰çº¿æŠ•å°„ï¼Œå¦åˆ™å°±å›åˆ°å†…ç½®æ–¹æ³•ã€‚- [æ¥æº](https://github.com/gkjohnson/three-mesh-bvh#acceleratedraycast)ã€‚

#### ä¾‹å­ã€‚

```js
import {
    IFCLoader
} from 'web-ifc-three/dist/IFCLoader';

import {
    acceleratedRaycast,
    computeBoundsTree,
    disposeBoundsTree
} from 'three-mesh-bvh';

const ifcLoader = new IFCLoader();
ifcLoader.ifcManager.setupThreeMeshBVH(
    acceleratedRaycast,
    computeBoundsTree,
    disposeBoundsTree);
```

###  setOnProgress

```js
  IfcLoader.IfcManager.setOnProgress (
      onProgress: (event: ParserProgress) => void
                                    ): void;
```

â³
è®¾ç½®ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œæ¯åŠ è½½10%çš„IFCéƒ½ä¼šè¢«è°ƒç”¨ã€‚è¿™æ ·ï¼Œä½ å¯ä»¥æ˜¾ç¤ºä¸€ä¸ªåŠ è½½æ¡ï¼Œå‘ä½ çš„ç”¨æˆ·å±•ç¤ºåŠ è½½çš„æƒ…å†µã€‚

#### å‡½æ•°çš„å‚æ•°ã€‚

- `onProgress`: å›è°ƒå‡½æ•°ï¼Œæ¯10%è¢«è°ƒç”¨ã€‚è¯¥å‡½æ•°å¿…é¡»æœ‰ä¸€ä¸ªå‚æ•°ï¼Œè¯¥å‚æ•°æ¥æ”¶ä¸€ä¸ªå…·æœ‰ä¸¤ä¸ªå±æ€§çš„å¯¹è±¡ã€‚`loaded`ï¼ˆåŠ è½½çš„å¯¹è±¡æ•°é‡ï¼‰å’Œ`total`ï¼ˆæ–‡ä»¶ä¸­çš„å¯¹è±¡æ•°é‡ï¼‰ã€‚

#### ä¾‹å­ã€‚

```js
  function exampleCallback(event) {
    const progress = event.total / event.progress * 100;
    console.log("Progress: ", progress, "%");
  }

  ifcLoader.ifcManager.setOnProgress(exampleCallback);
```

###  applyWebIfcConfig

```js
  async IfcLoader.IfcManager.applyWebIfcConfig (
                                    settings: LoaderSettings
                                    ): void;
```

ğŸ¹ğŸ¹ğŸ¹
åº”ç”¨[web-ifc](https://ifcjs.github.io/info/docs/Guide/web-ifc/Introduction)çš„é…ç½®ï¼Œå®ƒæ˜¯è¿™ä¸ªåº“å†…éƒ¨ä½¿ç”¨çš„åˆ†æå™¨ã€‚

#### å‡½æ•°çš„å‚æ•°ã€‚

- `settings`: ä¸€ä¸ªåŒ…å«ä»¥ä¸‹å­—æ®µçš„å¯¹è±¡ã€‚

- `COORDINATE_TO_ORIGIN: boolean`: æ˜¯å¦å°†æ¨¡å‹å¸¦åˆ°åœºæ™¯çš„ä¸­å¿ƒã€‚å¯¹åœ°ç†å®šä½çš„æ¨¡å‹æœ‰ç”¨ã€‚
- `USE_FAST_BOOLS: boolean`: æ˜¯å¦ä½¿ç”¨æ›´å¿«çš„ï¼ˆä¸é‚£ä¹ˆç²¾ç¡®çš„ï¼‰å¸ƒå°”é€»è¾‘ã€‚
- `BOOL_ABORT_THRESHOLD?: number`: å¸ƒå°”è¿ç®—è®¡ç®—çš„æé™ã€‚
- `CIRCLE_SEGMENTS_LOW?: number`: ä½æ®µæ›²çº¿çš„åˆ†è¾¨ç‡ã€‚
- `CIRCLE_SEGMENTS_MEDIUM?: number`: ä¸­æ®µæ›²çº¿çš„åˆ†è¾¨ç‡ï¼ˆä¾‹å¦‚IfcSweptDiskSolidï¼‰ã€‚
- `CIRCLE_SEGMENTS_HIGH?: number`: é«˜æ®µæ›²çº¿çš„åˆ†è¾¨ç‡ï¼ˆå¦‚IfcCircleï¼‰ã€‚

#### ä¾‹å­ã€‚

å¦‚æœä¸€ä¸ªæ–‡ä»¶æ˜¯åœ°ç†å®šä½çš„ï¼Œæˆ‘ä»¬æƒ³æŠŠå®ƒå¸¦åˆ°åœºæ™¯çš„åŸç‚¹ã€‚

```js
  await ifcLoader.ifcManager.applyWebIfcConfig({
                         COORDINATE_TO_ORIGIN: true,
                         USE_FAST_BOOLS: false
                                            });
```

###  useWebworkers

```js
  async IfcLoader.IfcManager.useWebWorkers (
                                    active: boolean,
                                    path?: string
                                    ): void;
```

ğŸ‘·â€â™€ï¸ğŸ‘·â€â™€ï¸ğŸ‘·â€â™€ï¸
åˆ‡æ¢åŒ…å«è§£æé€»è¾‘çš„ç½‘ç»œå·¥ä½œè€…ã€‚APIçš„å…¶ä½™éƒ¨åˆ†ä¿æŒä¸å˜ï¼Œä½†æ‰€æœ‰çš„é€»è¾‘å°†å‘ç”Ÿåœ¨æœºå™¨çš„å¦ä¸€ä¸ªçº¿ç¨‹ä¸­ï¼Œå› æ­¤åº”ç”¨ç¨‹åºæ°¸è¿œä¸ä¼šè¢«ç¹é‡çš„æ“ä½œæ‰€é˜»æ–­ã€‚

ğŸš§ ä½ éœ€è¦å°†æ–‡ä»¶`IFCWorker.js`å¤åˆ¶åˆ°ä½ çš„é¡¹ç›®ä¸­ï¼Œå¹¶å°†ç›¸å¯¹è·¯å¾„ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ä¼ é€’ã€‚

#### å‡½æ•°çš„å‚æ•°ã€‚

- `active`: æ˜¯å¦ä½¿ç”¨ç½‘ç»œå·¥ä½œè€…ã€‚
- `path`: å·¥ä½œå™¨æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„ã€‚å¦‚æœ `active = true`ï¼Œè¿™æ˜¯å¿…è¦çš„ã€‚

#### ä¾‹å­ã€‚

å¦‚æœ`IFCWorker.js`æ˜¯åœ¨ä¸€ä¸ªå«åš: `files`ã€‚

```js
  await ifcLoader.ifcManager.useWebWorkers({
                                true,
                                "files/IFCWorker.js"
                                            });
```

###  useJSONData

```js
  async IfcLoader.IfcManager.useJSONData (
                                    useJSON: boolean
                                    ): void;
```

ğŸš€
ä½¿ç”¨JSONå±æ€§æ•°æ®ï¼Œè€Œä¸æ˜¯WASMæ•°æ®ï¼Œå®ƒæ¶ˆè€—çš„å†…å­˜è¦å°‘å¾—å¤šã€‚åªåœ¨ä»¥ä¸‹æƒ…å†µä¸‹ä½¿ç”¨ã€‚
- å¦‚æœä½ ä¸éœ€è¦è®¿é—®IFCçš„å±æ€§
- å¦‚æœä½ å°†æä¾›JSONæ ¼å¼çš„å±æ€§ã€‚
ä½ å¯ä»¥æŒ‰ç…§[è¿™ä¸ªä¾‹å­](https://github.com/IFCjs/hello-world/tree/main/examples/web-ifc/ifc-to-json/node)æå‰ä»IFCæ–‡ä»¶ä¸­è·å–JSONã€‚

#### å‡½æ•°çš„å‚æ•°ã€‚

- `useJSON`: æ˜¯å¦ä½¿ç”¨JSONæ•°æ®ã€‚

#### ä¾‹å­ã€‚

```js
  await ifcLoader.ifcManager.useJSONData(true);
```

###  addModelJSONData

```js
  async IfcLoader.IfcManager.addModelJSONData (
                                modelID: number,
                                data: { [id: number]: JSONObject
                                        ): void;
```

ğŸ“¦ğŸ“¦ğŸ“¦
å°†ä¸€ä¸ªæ¨¡å‹çš„å±æ€§ä½œä¸ºJSONæ•°æ®æ·»åŠ ã€‚å¦‚æœä½ ä½¿ç”¨ç½‘ç»œå·¥ä½œè€…ï¼Œè¯·ä½¿ç”¨`loadJsonDataFromWorker()`ä»£æ›¿ï¼Œä»¥é¿å…å¼€é”€ã€‚

#### å‡½æ•°çš„å‚æ•°ã€‚

- `modelID`: IFCæ¨¡å‹çš„IDã€‚
- `data`: æ•°æ®æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­é”®æ˜¯expressIDsï¼Œå€¼æ˜¯å±æ€§ã€‚æ­¤å¤–ï¼Œæ¯ä¸ªå€¼éƒ½æœ‰å±æ€§`expressID`ï¼ˆé¡¹ç›®çš„idï¼‰å’Œ`type`ï¼ˆé¡¹ç›®çš„IFCç±»åˆ«ï¼‰ã€‚

#### ä¾‹å­ã€‚

```js
  await ifcLoader.ifcManager.addModelJSONData(0, jsonData);
```

###  loadJsonDataFromWorker

```js
  async IfcLoader.IfcManager.loadJsonDataFromWorker (
                                        modelID: number,
                                        path: string
                                            ): void;
```

ğŸ“¦ğŸ“¦ğŸ“¦
ä»JSONæ–‡ä»¶ä¸­ç›´æ¥ä»Web WorkeråŠ è½½IFCæ¨¡å‹çš„æ•°æ®ã€‚å¦‚æœä½ ä¸ä½¿ç”¨ç½‘ç»œå·¥ä½œè€…ï¼Œè¯·ä½¿ç”¨`addModelJSONData()`ä»£æ›¿ã€‚

#### å‡½æ•°çš„å‚æ•°ã€‚

- `modelID`: IFCæ¨¡å‹çš„IDã€‚
- `path`: JSONæ–‡ä»¶çš„è·¯å¾„ **ç›¸å¯¹äºç½‘ç»œå·¥ä½œè€…çš„æ–‡ä»¶**ã€‚

#### ä¾‹å­ã€‚

```js
  await ifcLoader.ifcManager.loadJsonDataFromWorker(0, "path/to/data.json");
```


##  ğŸ” è·å–å™¨

###  getExpressId

```js
  IfcLoader.IfcManager.getExpressId (
                        geometry: BufferGeometry,
                        faceIndex: number
                        ): number;
```

  ğŸ’³
ä»ä¸€ä¸ªé¢çš„ç´¢å¼•ä¸­è·å–IFCå…ƒç´ çš„å¿«é€ŸIDã€‚

<IfcCard icon="ğŸ“œ" title="ä¸ºä»€ä¹ˆè¦æœ‰è„¸éƒ¨æŒ‡æ•°ï¼Ÿ">
å› ä¸ºå½“æˆ‘ä»¬ç”¨é¼ æ ‡åœ¨ä¸‰ç»´ç©ºé—´ä¸­é€‰æ‹©ä¸€ä¸ªç‰©ä½“æ—¶ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°è¯¥é¢çš„ç´¢å¼•ã€‚æˆ‘ä»¬é€šå¸¸å¸Œæœ›å¾—åˆ°è¯¥é¢æ‰€å±ç‰©ä½“çš„IDï¼Œä»¥ä¾¿é«˜äº®æ˜¾ç¤ºå®ƒï¼Œéš”ç¦»å®ƒæˆ–è·å¾—å…¶æ‰€æœ‰å±æ€§ã€‚
</IfcCard>

#### å‡½æ•°çš„å‚æ•°ã€‚

- `geometry` ä½ ç”¨é¼ æ ‡ç‚¹å‡»çš„æ¨¡å‹çš„[Geometry](https://threejs.org/docs/#api/en/core/BufferGeometry)ã€‚

- `faceIndex` ä¸[raycaster](https://threejs.org/docs/#api/en/core/Raycaster)ç›¸äº¤çš„é¢çš„ç´¢å¼•ã€‚å¦‚æœä½ ä¸ç†Ÿæ‚‰raycasterï¼Œä¸è¦æ‹…å¿ƒï¼Œæˆ‘ä»¬ä¼šåœ¨å…³äºpickingçš„æ•™ç¨‹ä¸­è¯¦ç»†ä»‹ç»è¿™ä¸ªã€‚

#### ä¾‹å­ã€‚

```js
  const intersected = raycaster.intersectObject(mesh)[0];
  const index = intersected.faceIndex;
  const id = ifcLoader.ifcManager.getExpressId(mesh, index);
```


###  getIfcType

```js
  IfcLoader.IfcManager.getIfcType (
                        modelID: number,
                        id: number,
                        ): string;
```
ğŸ¸ğŸª•ğŸ»
è·å–æŒ‡å®šå…ƒç´ çš„IFCç±»å‹ï¼ˆä¾‹å¦‚ï¼šIFCWALLï¼‰ã€‚

<IfcAlert>
IFCä¸­çš„å…ƒç´ æ€»æ˜¯æœ‰ä¸€ä¸ªç›¸å…³çš„ç±»å‹ã€‚IfcWall, IfcSlab, IfcWindow, IfcDoorï¼Œç­‰ç­‰ã€‚
</IfcAlert>

#### å‡½æ•°çš„å‚æ•°ã€‚

- `modelID` IFCæ¨¡å‹çš„IDã€‚

- `id` è¦è·å–å…¶å±æ€§çš„é¡¹ç›®çš„Express IDã€‚ä½ å¯ä»¥é€šè¿‡`getExpressId`ï¼ˆå¦‚æœä½ åœ¨3Dè§†å›¾ä¸­æŒ‘é€‰ä¸€ä¸ªå¯¹è±¡ï¼‰æˆ–è€…é€šè¿‡`getAllItemsOfType`æˆ–`getSpatialStructure`éå†æ¨¡å‹æ¥è·å¾—ã€‚

#### ä¾‹å­ã€‚

```js
  const model = ifcModel.modelID;
  const id = 2142;
  const manager = loader.ifcLoader.ifcManager;
  const type = manager.getIfcType(model, id);
```

###  getAllItemsOfType

```js
  async IfcLoader.IfcManager.getAllItemsOfType (
                            modelID: number,
                            type: number,
                            verbose: boolean
                            ): number[] | object[];
```

  ğŸ¸ğŸ¸ğŸ¸
  è¿”å›ä¸€ä¸ªç‰¹å®šæ¨¡å‹çš„æ‰€æœ‰IFCç±»å‹çš„å¯¹è±¡ï¼ˆä¾‹å¦‚ï¼Œæ‰€æœ‰å¢™å£ã€æ‰€æœ‰åœ°æ¿ã€æ‰€æœ‰çª—æˆ·ç­‰ï¼‰ã€‚å®ƒå¯ä»¥è¿”å›ä¸€ä¸ª`expressIDs'æ•°ç»„ï¼Œæˆ–è€…ï¼ˆå¦‚æœ`verbose = true'ï¼‰ä¸€ä¸ªåŒ…å«æ‰¾åˆ°çš„é¡¹ç›®çš„å±æ€§çš„å¯¹è±¡æ•°ç»„ã€‚

#### å‡½æ•°çš„å‚æ•°ã€‚

- `modelID` IFCæ¨¡å‹çš„IDã€‚

- `type` ä½ æƒ³å¾—åˆ°çš„å…ƒç´ çš„IFCç±»å‹ã€‚ä½ å¯ä»¥ç›´æ¥ä»`web-ifc`å¯¼å…¥è¿™äº›ç±»å‹ï¼ˆè§ä¸‹é¢çš„ä¾‹å­ï¼‰ã€‚

- `verbose` å¦‚æœæ˜¯çœŸçš„ï¼Œåˆ™è·å¾—æ‰€æœ‰æ‰¾åˆ°çš„é¡¹ç›®çš„å±æ€§ã€‚è¦å°å¿ƒï¼Œå› ä¸ºè¿™åœ¨è¾ƒå¤§çš„æ¨¡å‹ä¸­å¯èƒ½æ˜¯ä¸€ä¸ªç¼“æ…¢çš„æ“ä½œã€‚

#### ä¾‹å­ã€‚

```js
  import { IFCWALLSTANDARDCASE as W } from 'web-ifc';

  const manager = loader.ifcLoader.ifcManager;
  const walls = await manager.getAllItemsOfType(0, W, false);
```

###  getItemProperties

```js
  async IfcLoader.IfcManager.getItemProperties (
                            modelID: number,
                            id: number,
                            recursive = false
                            ): object[];
```

  ğŸ“•ğŸ”
è·å–ç»™å®šå…ƒç´ çš„æœ¬åœ°å±æ€§ã€‚åœ¨IFCæ¨¡å¼ä¸­ï¼Œæœ‰ä¸¤ç§ç±»å‹çš„å±æ€§ï¼šç›´æ¥å’Œé—´æ¥ã€‚å¦‚ä½•è·å¾—é—´æ¥å±æ€§ï¼ˆpsetsã€qsetså’Œç±»å‹å±æ€§ï¼‰å°†åœ¨åé¢è®¨è®ºã€‚

<IfcAlert>
æ‰€æœ‰ä¸å±æ€§æœ‰å…³çš„æ–¹æ³•éƒ½è¿”å›ä¸€ä¸ªå¯¹è±¡æ•°ç»„ï¼Œå…¶ä¸­é”®æ˜¯å±æ€§çš„åç§°ï¼Œå€¼æ˜¯å®ƒä»¬çš„å€¼ã€‚
</IfcAlert>

#### å‡½æ•°çš„å‚æ•°ã€‚

- `modelID` IFCæ¨¡å‹çš„IDã€‚

- `id` è¦è·å–å…¶å±æ€§çš„é¡¹ç›®çš„Express IDã€‚ä½ å¯ä»¥é€šè¿‡`getExpressId`ï¼ˆå¦‚æœä½ åœ¨3Dè§†å›¾ä¸­æŒ‘é€‰ä¸€ä¸ªå¯¹è±¡ï¼‰æˆ–è€…é€šè¿‡`getAllItemsOfType`æˆ–`getSpatialStructure`éå†æ¨¡å‹æ¥è·å¾—ã€‚

- `recursive` å¦‚æœæ˜¯çœŸçš„ï¼Œå°±ä¼šé€’å½’åœ°è·å¾—æ‰€æœ‰è¢«å¼•ç”¨çš„å…ƒç´ çš„å±æ€§ã€‚è¦å°å¿ƒï¼Œå› ä¸ºè¿™åœ¨è¾ƒå¤§çš„æ¨¡å‹ä¸­å¯èƒ½æ˜¯ä¸€ä¸ªç¼“æ…¢çš„æ“ä½œã€‚

#### ä¾‹å­ã€‚

```js
  const model = ifcModel.modelID;
  const id = 2142;
  const manager = loader.ifcLoader.ifcManager;
  const props = await manager.getItemProperties(model, id, false);
```

###  getTypeProperties

```js
  async IfcLoader.IfcManager.getTypeProperties (
                            modelID: number,
                            id: number,
                            recursive = false
                            ): number[] | object[];
```
  ğŸ“˜ğŸ”
è·å–ç»™å®šå…ƒç´ çš„ç±»å‹å±æ€§ã€‚

#### å‡½æ•°çš„å‚æ•°ã€‚

- `modelID` IFCæ¨¡å‹çš„IDã€‚

- `id` è¦è·å–å…¶å±æ€§çš„é¡¹ç›®çš„Express IDã€‚ä½ å¯ä»¥é€šè¿‡`getExpressId`ï¼ˆå¦‚æœä½ åœ¨3Dè§†å›¾ä¸­æŒ‘é€‰ä¸€ä¸ªå¯¹è±¡ï¼‰æˆ–è€…é€šè¿‡`getAllItemsOfType`æˆ–`getSpatialStructure`éå†æ¨¡å‹æ¥è·å¾—ã€‚

- `recursive` å¦‚æœæ˜¯çœŸçš„ï¼Œå°±ä¼šé€’å½’åœ°è·å¾—æ‰€æœ‰è¢«å¼•ç”¨çš„å…ƒç´ çš„å±æ€§ã€‚è¦å°å¿ƒï¼Œå› ä¸ºè¿™åœ¨è¾ƒå¤§çš„æ¨¡å‹ä¸­å¯èƒ½æ˜¯ä¸€ä¸ªç¼“æ…¢çš„æ“ä½œã€‚

#### ä¾‹å­ã€‚

```js
  const model = ifcModel.modelID;
  const id = 2142;
  const manager = loader.ifcLoader.ifcManager;
  const props = await manager.getTypeProperties(model, id, false);
```

###  getPropertySets

```js
  async IfcLoader.IfcManager.getPropertySets (
                            modelID: number,
                            id: number,
                            recursive = false
                            ): object[];
```

ğŸ“—ğŸ”
è·å–ç»™å®šå…ƒç´ çš„å±æ€§é›†å’Œæ•°é‡é›†ã€‚

<IfcCard icon="ğŸ“ƒ" title="è´¢äº§é›†ï¼Ÿ" >
æœ¬åœ°å’Œç±»å‹å±æ€§æ˜¯é‚£äº›ç”±IFCæ¨¡å¼é¢„å®šä¹‰çš„å±æ€§ï¼šå®ƒä»¬æ€»æ˜¯åŒ…å«ç›¸åŒçš„ä¿¡æ¯ã€‚å¦ä¸€æ–¹é¢ï¼Œå±æ€§é›†åˆ™æ˜¯ä»»æ„çš„ï¼Œå¯ä»¥ç”±ç”¨æˆ·å®šä¹‰ã€‚
</IfcCard>

#### å‡½æ•°çš„å‚æ•°ã€‚

- `modelID` IFCæ¨¡å‹çš„IDã€‚

- `id` è¦è·å–å…¶å±æ€§çš„é¡¹ç›®çš„Express IDã€‚ä½ å¯ä»¥é€šè¿‡`getExpressId`ï¼ˆå¦‚æœä½ åœ¨3Dè§†å›¾ä¸­æŒ‘é€‰ä¸€ä¸ªå¯¹è±¡ï¼‰æˆ–è€…é€šè¿‡`getAllItemsOfType`æˆ–`getSpatialStructure`éå†æ¨¡å‹æ¥è·å¾—ã€‚

- `recursive` å¦‚æœæ˜¯çœŸçš„ï¼Œå°±ä¼šé€’å½’åœ°è·å¾—æ‰€æœ‰è¢«å¼•ç”¨çš„å…ƒç´ çš„å±æ€§ã€‚è¦å°å¿ƒï¼Œå› ä¸ºè¿™åœ¨è¾ƒå¤§çš„æ¨¡å‹ä¸­å¯èƒ½æ˜¯ä¸€ä¸ªç¼“æ…¢çš„æ“ä½œã€‚

#### ä¾‹å­ã€‚

```js
  const model = ifcModel.modelID;
  const id = 2142;
  const manager = loader.ifcLoader.ifcManager;
  const props = await manager.getPropertySets(model, id, false);
```

###  getMaterialsProperties

```js
  async IfcLoader.IfcManager.getMaterialsProperties (
                            modelID: number,
                            id: number,
                            recursive = false
                            ): object[];
```

ğŸ“’ğŸ”
è·å–ç»™å®šå…ƒç´ çš„ææ–™ä¿¡æ¯ã€‚

#### å‡½æ•°çš„å‚æ•°ã€‚

- `modelID` IFCæ¨¡å‹çš„IDã€‚

- `id` è¦è·å–å…¶å±æ€§çš„é¡¹ç›®çš„Express IDã€‚ä½ å¯ä»¥é€šè¿‡`getExpressId`ï¼ˆå¦‚æœä½ åœ¨3Dè§†å›¾ä¸­æŒ‘é€‰ä¸€ä¸ªå¯¹è±¡ï¼‰æˆ–è€…é€šè¿‡`getAllItemsOfType`æˆ–`getSpatialStructure`éå†æ¨¡å‹æ¥è·å¾—ã€‚

- `recursive` å¦‚æœæ˜¯çœŸçš„ï¼Œå°±ä¼šé€’å½’åœ°è·å¾—æ‰€æœ‰è¢«å¼•ç”¨çš„å…ƒç´ çš„å±æ€§ã€‚è¦å°å¿ƒï¼Œå› ä¸ºè¿™åœ¨è¾ƒå¤§çš„æ¨¡å‹ä¸­å¯èƒ½æ˜¯ä¸€ä¸ªç¼“æ…¢çš„æ“ä½œã€‚

#### ä¾‹å­ã€‚

```js
  const model = ifcModel.modelID;
  const id = 2142;
  const manager = loader.ifcLoader.ifcManager;
  const props = await manager.getMaterialsProperties(model, id, false);
```


###  getSpatialStructure

```js
  async IfcLoader.IfcManager.getSpatialStructure (
                        modelID: number
                        ): object;
```
  ğŸ”—ğŸ”—ğŸ”—
è·å–é¡¹ç›®çš„ç©ºé—´ç»“æ„ã€‚

<IfcAlert>
The <a href="https://standards.buildingsmart.org/IFC/DEV/IFC4_2/FINAL/HTML/schema/ifcproductextension/lexical/ifcspatialstructureelement.htm">spatial structure</a> is the hierarchical structure that organizes every IFC project (all physical items are referenced to an element of the spatial structure).
</IfcAlert>

#### å‡½æ•°çš„å‚æ•°ã€‚

- `modelID` IFCæ¨¡å‹çš„IDã€‚

#### ä¾‹å­ã€‚

```js
  const model = ifcModel.modelID;
  const manager = loader.ifcLoader.ifcManager;
  const ifcProject = await manager.getSpatialStructure(model);
```

##  ğŸ§± å­é›†

###  getSubset

```js
  IfcLoader.IfcManager.getSubset (
                        modelID: number,
                        material?: Material
                        ): object;
```
  ğŸ§±ğŸ”
è·å–æŒ‡å®š[æè´¨](https://threejs.org/docs/#api/en/materials/Material)çš„å­é›†çš„ç½‘æ ¼ã€‚å¦‚æœæ²¡æœ‰ç»™å®šæè´¨ï¼Œåˆ™è¿”å›å…·æœ‰åŸå§‹æè´¨çš„å­é›†ã€‚

<IfcAlert>
å‡ ä½•å­é›†æ˜¯å¯¹æ¨¡å‹çš„å‡ ä½•å½¢çŠ¶çš„æå–ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥æå–æ‰€æœ‰ç¬¦åˆæŸä¸ªæ¡ä»¶çš„IfcDoorså’ŒIfcWindowsçš„å­é›†ï¼Œå¹¶çªå‡ºæ˜¾ç¤ºæˆ–å¯¼å‡ºå®ƒä»¬ã€‚
</IfcAlert>

#### å‡½æ•°çš„å‚æ•°ã€‚

- `modelID` IFCæ¨¡å‹çš„IDã€‚

- `material` (å¯é€‰ï¼‰åˆ†é…ç»™å­é›†çš„ææ–™ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ã€‚

#### ä¾‹å­ã€‚

```js
  const model = ifcModel.modelID;
  const manager = loader.ifcLoader.ifcManager;
  const subset = manager.getSubset(model);
```

###  createSubset

```js
  IfcLoader.IfcManager.createSubset (
                        config: SubsetConfig
                        ): object;
```
ğŸ§±âœ¨
åˆ›å»ºä¸€ä¸ªæ–°çš„å‡ ä½•å­é›†ã€‚

#### å‡½æ•°çš„å‚æ•°ã€‚

- `config` ä¸€ä¸ªå…·æœ‰ä¸‹åˆ—é€‰é¡¹çš„é…ç½®å¯¹è±¡ã€‚

  - `scene` æ¨¡å‹æ‰€åœ¨çš„åœºæ™¯ã€‚

  - `modelID` è¯¥æ¨¡å‹çš„IDã€‚

  - `ids` å°†ç¬¦åˆå­é›†çš„æ¨¡å‹çš„é¡¹ç›®çš„ExpressIDsã€‚

  - `removePrevious` æ˜¯å¦è¦ç”¨è¿™ä¸ªææ–™åˆ é™¤è¿™ä¸ªæ¨¡å‹çš„å‰ä¸€ä¸ªå­é›†ã€‚

  - `material` (å¯é€‰ï¼‰åº”ç”¨äºå­é›†çš„ææ–™ã€‚å¦‚æœæ²¡æœ‰ç»™å‡ºææ–™ï¼Œå­é›†å°±æœ‰åŸå§‹ææ–™ã€‚

  - `customID` (å¯é€‰ï¼‰ å¯é€‰çš„è‡ªå®šä¹‰åç§°ï¼Œç”¨äºç»™å­é›†å‘½åã€‚è¿™å…è®¸ç”¨ç›¸åŒçš„ææ–™åˆ›å»ºå¤šä¸ªå­é›†ã€‚

#### ä¾‹å­ã€‚

```js
  const model = ifcModel.modelID;
  const manager = loader.ifcLoader.ifcManager;
  const config = {
        modelID: model
        scene: scene,
        ids: [id],
        removePrevious: true
  }
  manager.createSubset(config);
```

###  removeSubset

```js
  IfcLoader.IfcManager.removeSubset (
                        modelID: number,
                        material?: Material,
                        customID?: string,
                        ): object;
```

  ğŸ§±ğŸ’£
ç§»é™¤æŒ‡å®šçš„å‡ ä½•å­é›†ã€‚

#### å‡½æ•°çš„å‚æ•°ã€‚

- `modelID` IFCæ¨¡å‹çš„IDã€‚

- `material` (å¯é€‰ï¼‰åˆ†é…ç»™å­é›†çš„ææ–™ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ã€‚

- `customID` (å¯é€‰) å¯é€‰çš„è‡ªå®šä¹‰åç§°ï¼Œç”¨äºç»™å­é›†å‘½åã€‚è¿™å…è®¸ç”¨ç›¸åŒçš„ææ–™åˆ›å»ºå¤šä¸ªå­é›†ã€‚

#### ä¾‹å­ã€‚

```js
  const model = ifcModel.modelID;
  const manager = loader.ifcLoader.ifcManager;
  manager.removeSubset(model);
```

###  removeFromSubset

```js
  IfcLoader.IfcManager.removeSubset (
                        modelID: number,
                        ids: number[],
                        customID?: string,
                        material?: Material
                        ): void;
```

ğŸ§±ğŸ’¥ğŸ¤
ä»æŒ‡å®šçš„å‡ ä½•å­é›†ä¸­åˆ é™¤æŒ‡å®šçš„é¡¹ç›®ã€‚

#### å‡½æ•°çš„å‚æ•°ã€‚

- `modelID` IFCæ¨¡å‹çš„IDã€‚

- `ids`  å°†ç¬¦åˆå­é›†çš„æ¨¡å‹çš„é¡¹ç›®çš„ExpressIDsã€‚

- `material` (å¯é€‰ï¼‰åˆ†é…ç»™å­é›†çš„ææ–™ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ã€‚

- `customID` (å¯é€‰) å¯é€‰çš„è‡ªå®šä¹‰åç§°ï¼Œç”¨äºç»™å­é›†å‘½åã€‚è¿™å…è®¸ç”¨ç›¸åŒçš„ææ–™åˆ›å»ºå¤šä¸ªå­é›†ã€‚

#### ä¾‹å­ã€‚

```js
  import { IFCWALLSTANDARDCASE as W } from 'web-ifc';
  const model = ifcModel.modelID;
  const manager = loader.ifcLoader.ifcManager;
  const walls = await manager.getAllItemsOfType(0, W, false);
  manager.removeFromSubset(model, walls);
```