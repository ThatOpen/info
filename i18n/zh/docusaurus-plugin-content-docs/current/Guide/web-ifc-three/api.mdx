---
title: API
sidebar_position: 3
---

import {IfcCard} from "../../../../../../src/components/Card/InfoCard";
import {IfcAlert} from "../../../../../../src/components/Alert/Alert";

##  ä½ å¯ä»¥ç”¨web-ifc-threeåšçš„å¾ˆæ£’çš„äº‹æƒ…åˆ—è¡¨

  ğŸ“ƒ
æ‰€æœ‰çš„APIéƒ½æœ‰è®°å½•ï¼Œæ‰€ä»¥å½“ä½ ä½¿ç”¨æœ¬æ–‡æ¡£ä¸­çœ‹åˆ°çš„ä»»ä½•å¯¹è±¡æˆ–æ–¹æ³•æ—¶ï¼Œä½ åº”è¯¥åœ¨Intellisenseä¸­çœ‹åˆ°å¸®åŠ©ï¼Œæ— è®ºä½ ä½¿ç”¨çš„æ˜¯å“ªç§IDEã€‚[çœ‹çœ‹å§ï¼](https://github.com/IFCjs/web-ifc-three/blob/main/src/IFC/Components/IFCManager.ts)ã€‚

  ğŸ‘©â€ğŸ«
ç„¶è€Œï¼Œæˆ‘ä»¬æ„è¯†åˆ°ï¼Œé˜…è¯»intellisenseæˆ–æ³¨é‡Šå¹¶ä¸æ˜¯æœ€èˆ’æœçš„äº‹æƒ…ï¼Œæ‰€ä»¥åœ¨è¿™ä¸€é¡µï¼Œæˆ‘ä»¬å°†å¯¹APIèƒ½åšä»€ä¹ˆåšä¸€ä¸ªæ¦‚è¿°ã€‚ä¸€åˆ‡éƒ½å°†åœ¨ä»¥åçš„å…·ä½“æ•™ç¨‹ä¸­å¾—åˆ°æ›´è¯¦ç»†çš„ä»‹ç»ã€‚

##  IfcLoader

  ğŸ’
è¿™æ˜¯æˆ‘ä»¬å°†ä»åº“ä¸­å¯¼å…¥çš„å”¯ä¸€å¯¹è±¡ã€‚å®ƒåŒ…å«äº†ä½¿ç”¨IFCæ‰€éœ€çš„æ‰€æœ‰é€»è¾‘ã€‚ä½ å¯ä»¥ä½¿ç”¨å®ƒçš„`load()`å’Œ`loadAsync()`æ–¹æ³•ä»URLåŠ è½½IFCï¼Œ[å°±åƒå…¶ä»–Three.jsåŠ è½½å™¨ä¸€æ ·](https://threejs.org/docs/#api/en/loaders/Loader.load)ã€‚ä¾‹å¦‚ï¼Œè¦åŠ è½½ä¸€ä¸ªIFCï¼Œæˆ‘ä»¬å¯ä»¥åšä»¥ä¸‹å·¥ä½œã€‚

```js
import { IFCLoader } from "web-ifc-three/IFCLoader";

const ifcLoader = new IFCLoader();
ifcLoader.load(
    "models/Example_model.ifc",
    (ifcModel) => scene.add(ifcModel.mesh));
```

  ğŸ ğŸ ğŸ 
é€šè¿‡`web-ifc-three`ï¼Œä½ å¯ä»¥åœ¨åœºæ™¯ä¸­åŠ è½½å¤šä¸ªæ¨¡å‹ã€‚è®¸å¤šAPIæ“ä½œæ˜¯åœ¨ä¸€ä¸ªæŒ‡å®šçš„æ¨¡å‹ä¸Šæ‰§è¡Œçš„ã€‚ä¸ºäº†è¡¨è¾¾æˆ‘ä»¬æƒ³åœ¨å“ªä¸ªæ¨¡å‹ä¸Šæ“ä½œï¼Œæˆ‘ä»¬å¿…é¡»ç»™å‡ºå®ƒçš„`ModelID`ã€‚

  ğŸ”
ä½ å¯ä»¥é€šè¿‡ç”Ÿæˆçš„ç½‘æ ¼çš„å±æ€§`modelID`è·å¾—æ¨¡å‹çš„IDã€‚æˆ‘ä»¬å°†è¿™ä¸ªå±æ€§æ·»åŠ åˆ°[Three.js default mesh](https://threejs.org/docs/#api/en/objects/Mesh)ã€‚

```js
const modelID = ifcModel.mesh.modelID;
```

  âœŒ
  æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥è®¿é—®APIã€‚

- é€šè¿‡`IfcLoader`ç”¨`load`å’Œ`loadAsync`ç”Ÿæˆçš„`IfcModel`çš„å®ä¾‹ã€‚

- é€šè¿‡`IfcLoader.IfcManager`ã€‚

<IfcAlert>
<b>IfcModel</b>å®ä¾‹å’Œ<b>IfcLoader.IfcManager</b>éƒ½å¯ä»¥äº’æ¢ä½¿ç”¨ï¼Œä»¥è®¿é—®APIã€‚æœ‰ä¸€ä¸ªåŒºåˆ«ï¼šå½“ä½¿ç”¨<b>IfcModel</b>æ—¶ï¼ŒModelIDä¸å¿…ä½œä¸ºä¸€ä¸ªå‚æ•°ç»™å‡ºï¼ˆå®ƒæ˜¯éšå«çš„ï¼‰ã€‚
</IfcAlert>

##  ğŸ§° è®¾ç½®

###  setWasmPath

```js
  IfcLoader.IfcManager.setWasmPath (
                        path: string
                        ): void;
```

  ğŸ§ 
æŒ‡å®šweb-ifc.wasmæ–‡ä»¶çš„ä½ç½®ã€‚è¿™ä¸ªæ–‡ä»¶æ˜¯web-ifcæ–‡ä»¶ï¼Œä½¿ç”¨IFC.jsåˆ›å»ºä»»ä½•åº”ç”¨ç¨‹åºéƒ½éœ€è¦å®ƒã€‚ä½ å¯ä»¥åœ¨node_modules/web-ifc/web-ifc.wasmä¸­æ‰¾åˆ°å®ƒã€‚


<IfcCard icon={"ğŸš§"} title={"å°å¿ƒä½ ä½¿ç”¨çš„å·¥å…·!"} >
å¦‚æœä½ ä½¿ç”¨Reactã€Angularã€Vueæˆ–Svelteç­‰æ¡†æ¶æˆ–åº“ï¼Œé‚£ä¹ˆé¡¹ç›®çš„æ ¹è·¯å¾„æœ‰å¯èƒ½ä¸è¢«æœåŠ¡çš„åº”ç”¨ç¨‹åºçš„æ ¹è·¯å¾„ä¸ä¸€è‡´ã€‚ä½ å¿…é¡»åœ¨<a href="https://github.com/IFCjs/examples">æ¯ç§æƒ…å†µä¸‹</a>æ£€æŸ¥å¦‚ä½•ç®¡ç†é™æ€æœåŠ¡æ–‡ä»¶çš„è·¯å¾„ã€‚
</IfcCard>

#### å‡½æ•°çš„å‚æ•°ã€‚

- `path` æ–‡ä»¶`web-ifc.wasm`çš„è·¯å¾„ã€‚

#### ä¾‹å­ã€‚

å¦‚æœ`web-ifc.wasm`åœ¨dist/wasmDirä¸­ã€‚

```js
  ifcLoader.setWasmPath("dist/wasmDir/");
```

###  setupThreeMeshBVH

```js
  ifcLoader.IfcManager.setupThreeMeshBVH (
                        computeBoundsTree: any,
                        disposeBoundsTree: any,
                        acceleratedRaycast: any
                        ): void;
```

  âš¡âš¡âš¡
è¿™ç§æ–¹æ³•å¯ä»¥ä½¿å¯¹è±¡çš„æ‹¾å–é€Ÿåº¦æ›´å¿«ï¼Œç‰¹åˆ«æ˜¯å¯¹äºå…·æœ‰é‡åº¦å‡ ä½•å½¢çŠ¶çš„éå¸¸å¤§çš„æ¨¡å‹ã€‚è¿™ä¸ªæ–¹æ³•å®é™…ä¸Šå…è®¸IFC.jsä½¿ç”¨Garrett Johnsonçš„æƒŠäººçš„[åº“](https://github.com/gkjohnson/three-mesh-bvh)ã€‚ä½ å¯ä»¥ç”¨`npm i three-mesh-bvh`æˆ–`yarn add three-mesh-bvh`æ¥å®‰è£…å®ƒã€‚

<IfcCard>
  â˜
ä½¿ç”¨è¿™ç§æ–¹æ³•ä¸æ˜¯å¼ºåˆ¶æ€§çš„ï¼Œä½†å¦‚æœä½ æƒ³åœ¨60å¸§çš„æƒ…å†µä¸‹èƒ½å¤Ÿé€‰æ‹©ä¸­å‹/å¤§å‹IFCæ¨¡å‹ä¸­çš„å¯¹è±¡ï¼Œè¿™æ˜¯å¿…è¦çš„ã€‚
</IfcCard>

#### å‡½æ•°çš„å‚æ•°ã€‚

- `computeBoundsTree` é¢„åˆ¶çš„BufferGeometryæ‰©å±•å‡½æ•°ï¼Œå®ƒå»ºç«‹äº†ä¸€ä¸ªæ–°çš„BVHï¼Œå°†å…¶åˆ†é…ç»™boundsTreeï¼Œå¹¶å°†æ–°çš„ç´¢å¼•ç¼“å†²åŒºåº”ç”¨åˆ°å‡ ä½•ä½“ä¸Šã€‚- [æ¥æº](https://github.com/gkjohnson/three-mesh-bvh#computeboundstree)

- `disposeBoundsTree` BufferGeometryæ‰©å±•å‡½æ•°ï¼Œç”¨äºå¤„ç½®BVHã€‚- [æ¥æº](https://github.com/gkjohnson/three-mesh-bvh#disposeboundstree)ã€‚

- `acceleratedRaycast` ä¸THREE.Mesh.raycastç›¸åŒçš„åŠ é€Ÿå°„çº¿ä¼ è¾“å‡½æ•°ã€‚å¦‚æœBVHå¯ç”¨çš„è¯ï¼Œå°±ä½¿ç”¨å®ƒæ¥è¿›è¡Œå…‰çº¿æŠ•å°„ï¼Œå¦åˆ™å°±å›åˆ°å†…ç½®æ–¹æ³•ã€‚- [æ¥æº](https://github.com/gkjohnson/three-mesh-bvh#acceleratedraycast)ã€‚

#### ä¾‹å­ã€‚

```js
import {
    IFCLoader
} from 'web-ifc-three/dist/IFCLoader';

import {
    acceleratedRaycast,
    computeBoundsTree,
    disposeBoundsTree
} from 'three-mesh-bvh';

const ifcLoader = new IFCLoader();
ifcLoader.ifcManager.setupThreeMeshBVH(
    acceleratedRaycast,
    computeBoundsTree,
    disposeBoundsTree);
```

##  ğŸ” è·å–å™¨

###  getExpressId

```js
  IfcLoader.IfcManager.getExpressId (
                        geometry: BufferGeometry,
                        faceIndex: number
                        ): number;
```

  ğŸ’³
ä»ä¸€ä¸ªé¢çš„ç´¢å¼•ä¸­è·å–IFCå…ƒç´ çš„å¿«é€ŸIDã€‚

<IfcCard icon="ğŸ“œ" title="ä¸ºä»€ä¹ˆè¦æœ‰è„¸éƒ¨æŒ‡æ•°ï¼Ÿ">
å› ä¸ºå½“æˆ‘ä»¬ç”¨é¼ æ ‡åœ¨ä¸‰ç»´ç©ºé—´ä¸­é€‰æ‹©ä¸€ä¸ªç‰©ä½“æ—¶ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°è¯¥é¢çš„ç´¢å¼•ã€‚æˆ‘ä»¬é€šå¸¸å¸Œæœ›å¾—åˆ°è¯¥é¢æ‰€å±ç‰©ä½“çš„IDï¼Œä»¥ä¾¿é«˜äº®æ˜¾ç¤ºå®ƒï¼Œéš”ç¦»å®ƒæˆ–è·å¾—å…¶æ‰€æœ‰å±æ€§ã€‚
</IfcCard>

#### å‡½æ•°çš„å‚æ•°ã€‚

- `geometry` ä½ ç”¨é¼ æ ‡ç‚¹å‡»çš„æ¨¡å‹çš„[Geometry](https://threejs.org/docs/#api/en/core/BufferGeometry)ã€‚

- `faceIndex` ä¸[raycaster](https://threejs.org/docs/#api/en/core/Raycaster)ç›¸äº¤çš„é¢çš„ç´¢å¼•ã€‚å¦‚æœä½ ä¸ç†Ÿæ‚‰raycasterï¼Œä¸è¦æ‹…å¿ƒï¼Œæˆ‘ä»¬ä¼šåœ¨å…³äºpickingçš„æ•™ç¨‹ä¸­è¯¦ç»†ä»‹ç»è¿™ä¸ªã€‚

#### ä¾‹å­ã€‚

```js
  const intersected = raycaster.intersectObject(mesh)[0];
  const index = intersected.faceIndex;
  const id = ifcLoader.ifcManager.getExpressId(mesh, index);
```


###  getIfcType

```js
  IfcLoader.IfcManager.getIfcType (
                        modelID: number,
                        id: number,
                        ): string;
```
ğŸ¸ğŸª•ğŸ»
è·å–æŒ‡å®šå…ƒç´ çš„IFCç±»å‹ï¼ˆä¾‹å¦‚ï¼šIFCWALLï¼‰ã€‚

<IfcAlert>
IFCä¸­çš„å…ƒç´ æ€»æ˜¯æœ‰ä¸€ä¸ªç›¸å…³çš„ç±»å‹ã€‚IfcWall, IfcSlab, IfcWindow, IfcDoorï¼Œç­‰ç­‰ã€‚
</IfcAlert>

#### å‡½æ•°çš„å‚æ•°ã€‚

- `modelID` IFCæ¨¡å‹çš„IDã€‚

- `id` è¦è·å–å…¶å±æ€§çš„é¡¹ç›®çš„Express IDã€‚ä½ å¯ä»¥é€šè¿‡`getExpressId`ï¼ˆå¦‚æœä½ åœ¨3Dè§†å›¾ä¸­æŒ‘é€‰ä¸€ä¸ªå¯¹è±¡ï¼‰æˆ–è€…é€šè¿‡`getAllItemsOfType`æˆ–`getSpatialStructure`éå†æ¨¡å‹æ¥è·å¾—ã€‚

#### ä¾‹å­ã€‚

```js
  const model = ifcModel.mesh.modelID;
  const id = 2142;
  const manager = loader.ifcLoader.ifcManager;
  const type = manager.getIfcType(model, id);
```

###  getAllItemsOfType

```js
  IfcLoader.IfcManager.getAllItemsOfType (
                            modelID: number,
                            type: number,
                            verbose: boolean
                            ): number[] | object[];
```

  ğŸ¸ğŸ¸ğŸ¸
  è¿”å›ä¸€ä¸ªç‰¹å®šæ¨¡å‹çš„æ‰€æœ‰IFCç±»å‹çš„å¯¹è±¡ï¼ˆä¾‹å¦‚ï¼Œæ‰€æœ‰å¢™å£ã€æ‰€æœ‰åœ°æ¿ã€æ‰€æœ‰çª—æˆ·ç­‰ï¼‰ã€‚å®ƒå¯ä»¥è¿”å›ä¸€ä¸ª`expressIDs'æ•°ç»„ï¼Œæˆ–è€…ï¼ˆå¦‚æœ`verbose = true'ï¼‰ä¸€ä¸ªåŒ…å«æ‰¾åˆ°çš„é¡¹ç›®çš„å±æ€§çš„å¯¹è±¡æ•°ç»„ã€‚

#### å‡½æ•°çš„å‚æ•°ã€‚

- `modelID` IFCæ¨¡å‹çš„IDã€‚

- `type` ä½ æƒ³å¾—åˆ°çš„å…ƒç´ çš„IFCç±»å‹ã€‚ä½ å¯ä»¥ç›´æ¥ä»`web-ifc`å¯¼å…¥è¿™äº›ç±»å‹ï¼ˆè§ä¸‹é¢çš„ä¾‹å­ï¼‰ã€‚

- `verbose` å¦‚æœæ˜¯çœŸçš„ï¼Œåˆ™è·å¾—æ‰€æœ‰æ‰¾åˆ°çš„é¡¹ç›®çš„å±æ€§ã€‚è¦å°å¿ƒï¼Œå› ä¸ºè¿™åœ¨è¾ƒå¤§çš„æ¨¡å‹ä¸­å¯èƒ½æ˜¯ä¸€ä¸ªç¼“æ…¢çš„æ“ä½œã€‚

#### ä¾‹å­ã€‚

```js
  import { IFCWALLSTANDARDCASE as W } from 'web-ifc';

  const manager = loader.ifcLoader.ifcManager;
  const walls = manager.getAllItemsOfType(0, W, false);
```

###  getItemProperties

```js
  IfcLoader.IfcManager.getItemProperties (
                            modelID: number,
                            id: number,
                            recursive = false
                            ): object[];
```

  ğŸ“•ğŸ”
è·å–ç»™å®šå…ƒç´ çš„æœ¬åœ°å±æ€§ã€‚åœ¨IFCæ¨¡å¼ä¸­ï¼Œæœ‰ä¸¤ç§ç±»å‹çš„å±æ€§ï¼šç›´æ¥å’Œé—´æ¥ã€‚å¦‚ä½•è·å¾—é—´æ¥å±æ€§ï¼ˆpsetsã€qsetså’Œç±»å‹å±æ€§ï¼‰å°†åœ¨åé¢è®¨è®ºã€‚

<IfcAlert>
æ‰€æœ‰ä¸å±æ€§æœ‰å…³çš„æ–¹æ³•éƒ½è¿”å›ä¸€ä¸ªå¯¹è±¡æ•°ç»„ï¼Œå…¶ä¸­é”®æ˜¯å±æ€§çš„åç§°ï¼Œå€¼æ˜¯å®ƒä»¬çš„å€¼ã€‚
</IfcAlert>

#### å‡½æ•°çš„å‚æ•°ã€‚

- `modelID` IFCæ¨¡å‹çš„IDã€‚

- `id` è¦è·å–å…¶å±æ€§çš„é¡¹ç›®çš„Express IDã€‚ä½ å¯ä»¥é€šè¿‡`getExpressId`ï¼ˆå¦‚æœä½ åœ¨3Dè§†å›¾ä¸­æŒ‘é€‰ä¸€ä¸ªå¯¹è±¡ï¼‰æˆ–è€…é€šè¿‡`getAllItemsOfType`æˆ–`getSpatialStructure`éå†æ¨¡å‹æ¥è·å¾—ã€‚

- `recursive` å¦‚æœæ˜¯çœŸçš„ï¼Œå°±ä¼šé€’å½’åœ°è·å¾—æ‰€æœ‰è¢«å¼•ç”¨çš„å…ƒç´ çš„å±æ€§ã€‚è¦å°å¿ƒï¼Œå› ä¸ºè¿™åœ¨è¾ƒå¤§çš„æ¨¡å‹ä¸­å¯èƒ½æ˜¯ä¸€ä¸ªç¼“æ…¢çš„æ“ä½œã€‚

#### ä¾‹å­ã€‚

```js
  const model = ifcModel.mesh.modelID;
  const id = 2142;
  const manager = loader.ifcLoader.ifcManager;
  const props = manager.getItemProperties(model, id, false);
```

###  getTypeProperties

```js
  IfcLoader.IfcManager.getTypeProperties (
                            modelID: number,
                            id: number,
                            recursive = false
                            ): number[] | object[];
```
  ğŸ“˜ğŸ”
è·å–ç»™å®šå…ƒç´ çš„ç±»å‹å±æ€§ã€‚

#### å‡½æ•°çš„å‚æ•°ã€‚

- `modelID` IFCæ¨¡å‹çš„IDã€‚

- `id` è¦è·å–å…¶å±æ€§çš„é¡¹ç›®çš„Express IDã€‚ä½ å¯ä»¥é€šè¿‡`getExpressId`ï¼ˆå¦‚æœä½ åœ¨3Dè§†å›¾ä¸­æŒ‘é€‰ä¸€ä¸ªå¯¹è±¡ï¼‰æˆ–è€…é€šè¿‡`getAllItemsOfType`æˆ–`getSpatialStructure`éå†æ¨¡å‹æ¥è·å¾—ã€‚

- `recursive` å¦‚æœæ˜¯çœŸçš„ï¼Œå°±ä¼šé€’å½’åœ°è·å¾—æ‰€æœ‰è¢«å¼•ç”¨çš„å…ƒç´ çš„å±æ€§ã€‚è¦å°å¿ƒï¼Œå› ä¸ºè¿™åœ¨è¾ƒå¤§çš„æ¨¡å‹ä¸­å¯èƒ½æ˜¯ä¸€ä¸ªç¼“æ…¢çš„æ“ä½œã€‚

#### ä¾‹å­ã€‚

```js
  const model = ifcModel.mesh.modelID;
  const id = 2142;
  const manager = loader.ifcLoader.ifcManager;
  const props = manager.getTypeProperties(model, id, false);
```

###  getPropertySets

```js
  IfcLoader.IfcManager.getPropertySets (
                            modelID: number,
                            id: number,
                            recursive = false
                            ): object[];
```

ğŸ“—ğŸ”
è·å–ç»™å®šå…ƒç´ çš„å±æ€§é›†å’Œæ•°é‡é›†ã€‚

<IfcCard icon="ğŸ“ƒ" title="è´¢äº§é›†ï¼Ÿ" >
æœ¬åœ°å’Œç±»å‹å±æ€§æ˜¯é‚£äº›ç”±IFCæ¨¡å¼é¢„å®šä¹‰çš„å±æ€§ï¼šå®ƒä»¬æ€»æ˜¯åŒ…å«ç›¸åŒçš„ä¿¡æ¯ã€‚å¦ä¸€æ–¹é¢ï¼Œå±æ€§é›†åˆ™æ˜¯ä»»æ„çš„ï¼Œå¯ä»¥ç”±ç”¨æˆ·å®šä¹‰ã€‚
</IfcCard>

#### å‡½æ•°çš„å‚æ•°ã€‚

- `modelID` IFCæ¨¡å‹çš„IDã€‚

- `id` è¦è·å–å…¶å±æ€§çš„é¡¹ç›®çš„Express IDã€‚ä½ å¯ä»¥é€šè¿‡`getExpressId`ï¼ˆå¦‚æœä½ åœ¨3Dè§†å›¾ä¸­æŒ‘é€‰ä¸€ä¸ªå¯¹è±¡ï¼‰æˆ–è€…é€šè¿‡`getAllItemsOfType`æˆ–`getSpatialStructure`éå†æ¨¡å‹æ¥è·å¾—ã€‚

- `recursive` å¦‚æœæ˜¯çœŸçš„ï¼Œå°±ä¼šé€’å½’åœ°è·å¾—æ‰€æœ‰è¢«å¼•ç”¨çš„å…ƒç´ çš„å±æ€§ã€‚è¦å°å¿ƒï¼Œå› ä¸ºè¿™åœ¨è¾ƒå¤§çš„æ¨¡å‹ä¸­å¯èƒ½æ˜¯ä¸€ä¸ªç¼“æ…¢çš„æ“ä½œã€‚

#### ä¾‹å­ã€‚

```js
  const model = ifcModel.mesh.modelID;
  const id = 2142;
  const manager = loader.ifcLoader.ifcManager;
  const props = manager.getPropertySets(model, id, false);
```

###  getMaterialsProperties

```js
  IfcLoader.IfcManager.getMaterialsProperties (
                            modelID: number,
                            id: number,
                            recursive = false
                            ): object[];
```

ğŸ“’ğŸ”
è·å–ç»™å®šå…ƒç´ çš„ææ–™ä¿¡æ¯ã€‚

#### å‡½æ•°çš„å‚æ•°ã€‚

- `modelID` IFCæ¨¡å‹çš„IDã€‚

- `id` è¦è·å–å…¶å±æ€§çš„é¡¹ç›®çš„Express IDã€‚ä½ å¯ä»¥é€šè¿‡`getExpressId`ï¼ˆå¦‚æœä½ åœ¨3Dè§†å›¾ä¸­æŒ‘é€‰ä¸€ä¸ªå¯¹è±¡ï¼‰æˆ–è€…é€šè¿‡`getAllItemsOfType`æˆ–`getSpatialStructure`éå†æ¨¡å‹æ¥è·å¾—ã€‚

- `recursive` å¦‚æœæ˜¯çœŸçš„ï¼Œå°±ä¼šé€’å½’åœ°è·å¾—æ‰€æœ‰è¢«å¼•ç”¨çš„å…ƒç´ çš„å±æ€§ã€‚è¦å°å¿ƒï¼Œå› ä¸ºè¿™åœ¨è¾ƒå¤§çš„æ¨¡å‹ä¸­å¯èƒ½æ˜¯ä¸€ä¸ªç¼“æ…¢çš„æ“ä½œã€‚

#### ä¾‹å­ã€‚

```js
  const model = ifcModel.mesh.modelID;
  const id = 2142;
  const manager = loader.ifcLoader.ifcManager;
  const props = manager.getMaterialsProperties(model, id, false);
```


###  getSpatialStructure

```js
  IfcLoader.IfcManager.getSpatialStructure (
                        modelID: number
                        ): object;
```
  ğŸ”—ğŸ”—ğŸ”—
è·å–é¡¹ç›®çš„ç©ºé—´ç»“æ„ã€‚

<IfcAlert>
The <a href="https://standards.buildingsmart.org/IFC/DEV/IFC4_2/FINAL/HTML/schema/ifcproductextension/lexical/ifcspatialstructureelement.htm">spatial structure</a> is the hierarchical structure that organizes every IFC project (all physical items are referenced to an element of the spatial structure).
</IfcAlert>

#### å‡½æ•°çš„å‚æ•°ã€‚

- `modelID` IFCæ¨¡å‹çš„IDã€‚

#### ä¾‹å­ã€‚

```js
  const model = ifcModel.mesh.modelID;
  const manager = loader.ifcLoader.ifcManager;
  const ifcProject = manager.getSpatialStructure(model);
```

##  ğŸ§± å­é›†

###  getSubset

```js
  IfcLoader.IfcManager.getSubset (
                        modelID: number,
                        material?: Material
                        ): object;
```
  ğŸ§±ğŸ”
è·å–æŒ‡å®š[æè´¨](https://threejs.org/docs/#api/en/materials/Material)çš„å­é›†çš„ç½‘æ ¼ã€‚å¦‚æœæ²¡æœ‰ç»™å®šæè´¨ï¼Œåˆ™è¿”å›å…·æœ‰åŸå§‹æè´¨çš„å­é›†ã€‚

<IfcAlert>
å‡ ä½•å­é›†æ˜¯å¯¹æ¨¡å‹çš„å‡ ä½•å½¢çŠ¶çš„æå–ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥æå–æ‰€æœ‰ç¬¦åˆæŸä¸ªæ¡ä»¶çš„IfcDoorså’ŒIfcWindowsçš„å­é›†ï¼Œå¹¶çªå‡ºæ˜¾ç¤ºæˆ–å¯¼å‡ºå®ƒä»¬ã€‚
</IfcAlert>

#### å‡½æ•°çš„å‚æ•°ã€‚

- `modelID` IFCæ¨¡å‹çš„IDã€‚

- `material` (å¯é€‰ï¼‰åˆ†é…ç»™å­é›†çš„ææ–™ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ã€‚

#### ä¾‹å­ã€‚

```js
  const model = ifcModel.mesh.modelID;
  const manager = loader.ifcLoader.ifcManager;
  const subset = manager.getSubset(model);
```

###  createSubset

```js
  IfcLoader.IfcManager.createSubset (
                        config: HighlightConfigOfModel
                        ): object;
```
ğŸ§±âœ¨
åˆ›å»ºä¸€ä¸ªæ–°çš„å‡ ä½•å­é›†ã€‚

#### å‡½æ•°çš„å‚æ•°ã€‚

- `config` ä¸€ä¸ªå…·æœ‰ä¸‹åˆ—é€‰é¡¹çš„é…ç½®å¯¹è±¡ã€‚

  - `scene` æ¨¡å‹æ‰€åœ¨çš„åœºæ™¯ã€‚

  - `modelID` è¯¥æ¨¡å‹çš„IDã€‚

  - `ids` å°†ç¬¦åˆå­é›†çš„æ¨¡å‹çš„é¡¹ç›®çš„ExpressIDsã€‚

  - `removePrevious` æ˜¯å¦è¦ç”¨è¿™ä¸ªææ–™åˆ é™¤è¿™ä¸ªæ¨¡å‹çš„å‰ä¸€ä¸ªå­é›†ã€‚

  - `material` (å¯é€‰ï¼‰åº”ç”¨äºå­é›†çš„ææ–™ã€‚å¦‚æœæ²¡æœ‰ç»™å‡ºææ–™ï¼Œå­é›†å°±æœ‰åŸå§‹ææ–™ã€‚

#### ä¾‹å­ã€‚

```js
  const model = ifcModel.mesh.modelID;
  const manager = loader.ifcLoader.ifcManager;
  const config = {
        modelID: model
        scene: scene,
        ids: [id],
        removePrevious: true
  }
  manager.createSubset(config);
```

###  removeSubset

```js
  IfcLoader.IfcManager.removeSubset (
                        modelID: number,
                        scene?: Scene,
                        material?: Material
                        ): object;
```

  ğŸ§±ğŸ’£
ç§»é™¤æŒ‡å®šçš„å‡ ä½•å­é›†ã€‚

#### å‡½æ•°çš„å‚æ•°ã€‚

- `modelID` IFCæ¨¡å‹çš„IDã€‚

- `scene` (å¯é€‰ï¼‰å­é›†æ‰€åœ¨çš„åœºæ™¯ã€‚

- `material` (å¯é€‰ï¼‰åˆ†é…ç»™å­é›†çš„ææ–™ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ã€‚

#### ä¾‹å­ã€‚

```js
  const model = ifcModel.mesh.modelID;
  const manager = loader.ifcLoader.ifcManager;
  manager.removeSubset(model);
```

##  ğŸ‘“ å¯è§æ€§

###  hideItems

```js
  IfcLoader.IfcManager.hideItems (
                        modelID: number,
                        ids: number[]
                        ): void;
```

  ğŸŒ’
éšè—æŒ‡å®šæ¨¡å‹ä¸­çš„é€‰å®šé¡¹ç›®ã€‚

#### å‡½æ•°çš„å‚æ•°ã€‚

- `modelID` IFCæ¨¡å‹çš„IDã€‚

- `ids` å…ƒç´ çš„ExpressIDã€‚

#### ä¾‹å­ã€‚

```js
  const model = ifcModel.mesh.modelID;
  const id = 2142;
  const manager = loader.ifcLoader.ifcManager;
  manager.hideItems(model, [id]);
```

###  hideAllItems

```js
  IfcLoader.IfcManager.hideAllItems (
                        modelID: number
                        ): void;
```

  ğŸŒ’ğŸŒ’ğŸŒ’
éšè—æŒ‡å®šæ¨¡å‹çš„æ‰€æœ‰é¡¹ç›®ã€‚

#### å‡½æ•°çš„å‚æ•°ã€‚

- `modelID` IFCæ¨¡å‹çš„IDã€‚

#### ä¾‹å­ã€‚

```js
  const model = ifcModel.mesh.modelID;
  const manager = loader.ifcLoader.ifcManager;
  manager.hideAllItems(model);
```

###  showItems

```js
  IfcLoader.IfcManager.showItems(
                        modelID: number,
                        ids: number[]
                        ): void;
```

  ğŸŒ–
æ˜¾ç¤ºæŒ‡å®šæ¨¡å‹ä¸­çš„é€‰å®šé¡¹ç›®ã€‚

#### å‡½æ•°çš„å‚æ•°ã€‚

- `modelID` IFCæ¨¡å‹çš„IDã€‚

- `ids` å…ƒç´ çš„ExpressIDã€‚

#### ä¾‹å­ã€‚

```js
  const model = ifcModel.mesh.modelID;
  const id = 2142;
  const manager = loader.ifcLoader.ifcManager;
  manager.showItems(model, [id]);
```

###  showAllItems

```js
  IfcLoader.IfcManager.showAllItems(
                        modelID: number
                        ): void;
```

  ğŸŒ–ğŸŒ–ğŸŒ–
æ˜¾ç¤ºæŒ‡å®šæ¨¡å‹çš„æ‰€æœ‰é¡¹ç›®ã€‚

#### å‡½æ•°çš„å‚æ•°ã€‚

- `modelID` IFCæ¨¡å‹çš„IDã€‚

#### ä¾‹å­ã€‚

```js
  const model = ifcModel.mesh.modelID;
  const manager = loader.ifcLoader.ifcManager;
  manager.showAllItems(model);
```
